extends layout

block content

    div.w3-cell-row
        div.w3-cell.w3-padding-16
            div.w3-container.w3-light-blue
                h2 Users
            div.w3-container
                div.w3-cell-row
                    div.w3-cell
                        h4 List of users
                    div.w3-cell.w3-right-align
                        label(id="updatedDate").w3-text-gray Updated: never
                        a.w3-button.w3-circle.w3-hover-white(id="btnRefreshUsers")
                            i(class="fas fa-sync-alt")

                div(class="userTable" data-url="/refreshUsers")
                    table(class="w3-table-all w3-gray table-userTable")
                        thead
                            tr.w3-light-gray
                        tbody
                            tr
                                td List is empty

        div.w3-container.w3-cell.w3-padding-16(style="width:33%")
            div.w3-card-4
                div.w3-container.w3-blue-grey.w3-text-black
                    h3 New user
                div.w3-container.w3-margin-top(style="padding-bottom: 16px")
                    label #[b Select reader:]
                    div.w3-margin-bottom(id="readerList")
                    p.w3-text-red(id="cardError") No available reader
                    p.w3-text-red(hidden=true id="cardNotSelected") No reader selected
                    p
                        label Name
                        input.w3-input.w3-border.w3-round-medium(name="firstName" type="text" id="firstName")
                    p
                        label Surname
                        input.w3-input.w3-border.w3-round-medium(name="lastName" type="text" id="lastName")
                    button.w3-btn.w3-round-medium.w3-blue-grey.w3-text-black.w3-border.w3-border-grey.w3-padding-small(id="btnNewUser") Personalize
                    div(class="loader" id="login-loader" hidden=true)
                    p.w3-text-green(hidden=true id="messageOK") Card successfully personalized
                    p.w3-text-red(hidden=true id="messageError") Card personalization failed
                    p.w3-text-red(hidden=true id="rkvacUsed") RKVAC is currently used, try later

    script(src='users-client.js')